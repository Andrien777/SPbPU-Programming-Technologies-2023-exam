#на5
Обыкновенные коллекции ([[List]], [[Set]], [[Map]]) не являются потокобезопасными, т.е. при одновременной работе с несколькими [[Threads|потоками]] возможно недетерминированное поведение. Кросе того, если во время итерации по коллекции что-либо ее изменяет, вылетит **ConcurrentModificationException**. Для этого были разработаны вариации этих коллекций, обеспечивающие нормальную работу с несколькими потоками.
Примеры:
* **CopyOnWriteArrayList** - операции add, set, remove приводят к созданию новой копии внутреннего массива, в то время как все [[Iterable, Iterator#Iterator|итераторы]] работают по старой. Итераторы представляются на время и меняются.
* **ConcurrentMap** - расширяет Map атомарными операциями putIfAbsent, remove, replace.
	* **ConcurrentHashMap** реализует ConcurrentMap на основе нескольких HashMap. Запись помещается в один из них в зависимости от [[hashCode]] ключа, при доступе блокируется только необходимый сегмент. Итераторы представляются на некоторый определенный срок